<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>OneDictionary</title>
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="style.css">

		<script>
			if((navigator.userAgent.match(/iPhone/i)) || (navigator.userAgent.match(/iPad/i))){
   document.styleSheets[0].insertRule(".scrollable { -webkit-overflow-scrolling: touch !important; overflow-y: scroll !important;}", 6);
   document.styleSheets[0].insertRule("iframe { max-width:100% !important }", 7);
}
		</script>

	</head>

	<body>
		
		<main>
			<input id="search" type="text" placeholder="Type a word" autofocus="autofocus" onkeydown="inputenter(event, this.value)" />

			<nav>
				<div class="btn selected" id="oxfo" onclick="whenclick(this)">Oxford Dictionaries</div>
				<div class="btn" id="dict" onclick="whenclick(this)">Dictionary.com</div>
				<div class="btn" id="macm" onclick="whenclick(this)">Macmillan Dictionary</div>

				<div class="panic" onclick="panic()"><div class="circle">PANIC</div></div>
			</nav>
		</main>

		<div class="scrollable"><iframe id="frm" src="" scrolling="no"></iframe></div>

		

		<script type="text/javascript">
			function inputenter(e, searchvalue) {
				if (e.keyCode==13) {
					document.activeElement.blur();
					choosewebsite(searchvalue);
				}
			}

			function choosewebsite(searchvalue) {
				var src;
				var siteid = document.getElementsByClassName("selected")[0].id;

				switch(siteid) {
					case "oxfo":
						src = "http://www.oxforddictionaries.com/definition/english/" + searchvalue.replace(' ', '-') + "#firstClickFreeAllowed";
						break;
					case "dict":
						src = "http://dictionary.reference.com/browse/" + searchvalue + "#source-luna";
						break;
					case "macm":
						src = "http://www.macmillandictionary.com/dictionary/british/" + searchvalue.replace(' ', '-') + "#headword";
						break;
					default:
				}
				document.getElementById('frm').src = src;
			}

			function whenclick(selectedbutton) {
				document.getElementsByClassName("selected")[0].className = "btn";
				selectedbutton.className += " selected";
				searchvalue = document.getElementById("search").value;
				choosewebsite(searchvalue);
			}

			function panic() {
				document.getElementById('frm').src = "http://www.tureng.com/search/" + document.getElementById("search").value + "#englishResultsTable";
			}

		</script>

	</body>

</html>